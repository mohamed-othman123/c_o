<div
  *transloco="let t; prefix: 'overdraftDetailsPage.basicDetails'"
  class="mb-2 flex justify-between">
  <div class="gap-md sm:gap-sm flex flex-col sm:justify-center">
    <div class="flex flex-col gap-2 sm:hidden">
      <app-last-updated
        [date]="lastUpdatedAt()"
        noRefresh
        mobileVisible
        (refresh)="resource().reload()" />
    </div>
  </div>
</div>

@if (overdraftDetails(); as od) {
  <div
    class="rounded-5xl border-border-secondary bg-container border-[1px] p-4"
    *transloco="let t; prefix: 'overdraftDetailsPage.basicDetails'">
    <div
      class="border-border-secondary bg-container flex justify-between border-b pb-2.5 align-middle"
      data-testid="DASH_CERTIFICATE_BASIC_DETAIL_CONTAINER">
      <h2
        class="mf-lg text-text-primary font-semibold"
        data-testid="DASH_CERTIFICATE_BASIC_DETAIL_HEADING">
        {{ t('overdraftSummary') }}
      </h2>
      <button
        scbButton
        variant="ghost"
        size="xs"
        tooltipPosition="bottom"
        placeholder="bottom"
        [tooltipStyleClass]="'custom-width-tooltip'"
        pTooltip="{{ t('shareAccountDetail') }}"
        data-testid="DASH_ACCOUNT_BASIC_DETAIL_ICON"
        (click)="shareAccountDetail()"
        icon="export"></button>
    </div>
    <div class="flex justify-between pt-2.5 max-sm:flex-col max-sm:gap-2">
      <div class="gap-sm flex w-full flex-col">
        <h2
          class="mf-md text-text-secondary font-normal"
          data-testid="DASH_CERTIFICATE_BASIC_DETAIL_ACCOUNT_HEADING">
          {{ t('Accountnumber') }}
        </h2>
        <p
          class="mf-md text-text-primary font-semibold"
          data-testid="DASH_CERTIFICATE_BASIC_DETAIL_ACCOUNT_NUMBER">
          {{ od.accountNumber }}
        </p>
      </div>
      <div class="gap-sm flex w-full flex-col">
        <h2
          class="mf-md text-text-secondary font-normal"
          data-testid="DASH_ACCOUNT_BASIC_DETAIL_IBAN_HEADING">
          {{ t('IBAN') }}
        </h2>
        <p
          class="mf-md text-text-primary font-semibold"
          data-testid="DASH_ACCOUNT_BASIC_DETAIL__IBAN_TITLE">
          {{ od.iban }}
        </p>
      </div>
      <div class="gap-sm flex w-full flex-col">
        <h2
          class="mf-md text-text-secondary font-normal"
          data-testid="DASH_CERTIFICATE_BASIC_DETAIL_ACCOUNT_HEADING">
          {{ t('interestRate') }}
        </h2>
        <p
          class="mf-md text-text-primary font-semibold"
          data-testid="DASH_CERTIFICATE_BASIC_DETAIL_ACCOUNT_NUMBER">
          {{ od.interestRate }}%
        </p>
      </div>
    </div>
    <div class="flex justify-between pt-2.5 max-sm:flex-col max-sm:gap-2">
      <div class="gap-sm flex w-full flex-col">
        <h2
          class="mf-md text-text-secondary font-normal"
          data-testid="DASH_CERTIFICATE_BASIC_DETAIL_ACCOUNT_HEADING">
          {{ t('utilizedAmount') }}
        </h2>
        <currency-view
          [amount]="od.utilizedAmount"
          [currency]="od.currency" />
      </div>
      @if (od.isSecured === true) {
        <div class="gap-sm flex w-full flex-col">
          <h2
            class="mf-md text-text-secondary font-normal"
            data-testid="DASH_ACCOUNT_BASIC_DETAIL_IBAN_HEADING">
            {{ t('pledgedAmount') }}
          </h2>
          <currency-view
            [amount]="od.pledgedAmount"
            [currency]="od.currency" />
        </div>
      }
      @if (od.isSecured === true) {
        <div class="gap-sm flex w-full flex-col">
          <h2
            class="mf-md text-text-secondary font-normal"
            data-testid="DASH_ACCOUNT_BASIC_DETAIL_IBAN_HEADING">
            {{ t('linkedaccount') }}
          </h2>
          <p
            class="mf-md text-text-primary font-semibold"
            data-testid="DASH_ACCOUNT_BASIC_DETAIL__IBAN_TITLE">
            {{ od.linkedAccount }}
          </p>
        </div>
      }
    </div>
  </div>
}
